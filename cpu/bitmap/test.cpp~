#include <stdio.h>
#include <stdlib.h>


void set_bit(unsigned int num, unsigned long* bitmap) {
     bitmap[num/32] |= ( 2147483648 >> num%32);
}

int test_bit(unsigned int num, unsigned long* bitmap) {
     return ((bitmap[num/32] << num%32) >> 31);
}


int main() {

     int map_size = 5000;
     unsigned long* bitmap = (unsigned long*) malloc(sizeof(unsigned long)*map_size);
     for (int i=0; i<map_size; i++) bitmap[i] = 0;


     printf("%d\n",test_bit(100, bitmap));
     

     
     printf("%d\n", test_bit(4999, bitmap));

     
     set_bit(255, bitmap);

     printf("%d\n", test_bit(255, bitmap));
     return 0;
}
